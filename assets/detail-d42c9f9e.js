import{_ as w,o,c as a,a as l,y as g,d as t,F as h,j as x,D as B,E as C,t as c,l as I,m as P,G as N,b as D,H as S,J as T,K as F,p as z,e as A,u as L,L as M,h as V,g as j,N as R}from"./index-deaf9570.js";import{m as E}from"./index-eeba2c5e.js";function G(e){return E.get({url:"/detail/infos",params:{houseId:e}})}const O={class:"swipe"},q=["src"],H={class:"indicator"},J={class:"text"},K={key:0,class:"count"},Q={__name:"detail-swiper",props:{swipeData:{type:Array,default:()=>[]}},setup(e){const u=e,r={};for(const s of u.swipeData){let n=r[s.enumPictureCategory];n||(n=[],r[s.enumPictureCategory]=n),n.push(s)}const i=s=>s.replace("【"," ").replace("】"," ").replace("："," "),d=s=>r[s.enumPictureCategory].findIndex(_=>_===s)+1;return(s,n)=>{const _=N,b=B;return o(),a("div",O,[l(b,{class:"my-swipe",autoplay:2e3,"indicator-color":"white","lazy-render":""},{indicator:g(({active:p,total:$})=>[t("div",H,[(o(),a(h,null,x(r,(m,f,k)=>{var y,v;return t("span",{key:f,class:C(["item",{active:((y=e.swipeData[p])==null?void 0:y.enumPictureCategory)==f}])},[t("span",J,c(i(m[0].title)),1),((v=e.swipeData[p])==null?void 0:v.enumPictureCategory)==f?(o(),a("span",K,c(d(e.swipeData[p]))+"/"+c(m.length),1)):I("",!0)],2)}),64))])]),default:g(()=>[(o(!0),a(h,null,x(e.swipeData,(p,$)=>(o(),P(_,{key:$},{default:g(()=>[t("img",{src:p.url,alt:""},null,8,q)]),_:2},1024))),128))]),_:1})])}}},U=w(Q,[["__scopeId","data-v-b978a82c"]]);const W={class:"detail-info"},X={class:"info-title"},Y={class:"text"},Z={class:"house-tag"},tt={class:"comment extra"},et={class:"left"},st={class:"score"},ot={class:"title"},at={class:"text"},nt={class:"right"},ct={class:"position extra"},it={class:"left"},lt={class:"right"},_t={__name:"detail-info",props:{houseInfo:{type:Object,default:()=>({})}},setup(e){return console.log(e.houseInfo),(r,i)=>{const d=S;return o(),a("div",W,[t("div",X,[t("span",Y,c(e.houseInfo.houseName),1)]),t("div",Z,[(o(!0),a(h,null,x(e.houseInfo.houseTags,(s,n)=>{var _;return o(),a(h,{key:n},[s.tagText?(o(),a("span",{key:0,class:"text",style:T({color:s.tagText.color,background:s.tagText.background.color})},c((_=s.tagText)==null?void 0:_.text),5)):I("",!0)],64)}),128))]),t("div",tt,[t("div",et,[t("span",st,c(e.houseInfo.commentBrief.overall),1),t("span",ot,c(e.houseInfo.commentBrief.scoreTitle),1),t("span",at,c(e.houseInfo.commentBrief.commentBrief),1)]),t("span",nt,[D(c(e.houseInfo.commentBrief.totalCount)+"条评论 ",1),l(d,{name:"arrow"})])]),t("div",ct,[t("span",it,c(e.houseInfo.nearByPosition.address),1),t("span",lt,[D(" 地图·周边 "),l(d,{name:"arrow"})])])])}}},rt=w(_t,[["__scopeId","data-v-1ca58bc2"]]);const dt={class:"section"},ut={class:"header"},pt={class:"title"},ht={class:"content"},ft={class:"footer"},mt={class:"more"},yt={__name:"detail-section",props:{title:{type:String,default:"默认标题"},text:{type:String,default:"查看全部"}},setup(e){return(u,r)=>{const i=S;return o(),a("div",dt,[t("div",ut,[t("h2",pt,c(e.title),1)]),t("div",ht,[F(u.$slots,"default",{},void 0,!0)]),t("div",ft,[t("span",mt,[D(c(e.text)+" ",1),l(i,{name:"arrow"})])])])}}},vt=w(yt,[["__scopeId","data-v-16f10499"]]);const gt=e=>(z("data-v-16538c68"),e=e(),A(),e),xt={class:"detail-facility"},It={class:"facility"},$t={key:0,class:"item"},wt={class:"left"},kt=["src"],Dt={class:"text"},St={class:"list"},bt=gt(()=>t("i",{class:"icon_check icon"},null,-1)),Bt={class:"name"},Ct={__name:"detail-facility",props:{facility:{type:Object,default:()=>({})}},setup(e){return(u,r)=>(o(),a("div",xt,[l(vt,{title:"房屋设施",text:"查看全部设施"},{default:g(()=>[t("div",It,[(o(!0),a(h,null,x(e.facility.houseFacilitys,(i,d)=>(o(),a(h,{key:d},[e.facility.facilitySort.includes(i.groupId)?(o(),a("div",$t,[t("div",wt,[t("img",{src:i.icon,alt:""},null,8,kt),t("span",Dt,c(i.groupName),1)]),t("div",St,[(o(!0),a(h,null,x(i.facilitys.slice(0,4),(s,n)=>(o(),a("div",{key:n,class:"list-item"},[bt,t("span",Bt,c(s.name),1)]))),128))])])):I("",!0)],64))),128))])]),_:1})]))}},Pt=w(Ct,[["__scopeId","data-v-16538c68"]]),Nt={class:"detail"},Tt={key:0},Ft={key:1},Lt={__name:"detail",setup(e){const u=L(),i=M().params.id,d=()=>{u.back()},s=V({}),n=j(()=>s.value.mainPart);return G(i).then(_=>{s.value=_.data}),(_,b)=>{var m,f,k,y,v;const p=S,$=R;return o(),a("div",Nt,[l($,{title:"详情","left-text":"返回","left-arrow":"",onClickLeft:d},{right:g(()=>[l(p,{name:"search",size:"18"})]),_:1}),n.value?(o(),a("div",Tt,[l(U,{swipeData:(f=(m=n.value.topModule)==null?void 0:m.housePicture)==null?void 0:f.housePics},null,8,["swipeData"])])):I("",!0),n.value?(o(),a("div",Ft,[l(rt,{houseInfo:n.value.topModule},null,8,["houseInfo"])])):I("",!0),l(Pt,{facility:(v=(y=(k=n.value)==null?void 0:k.dynamicModule)==null?void 0:y.facilityModule)==null?void 0:v.houseFacility},null,8,["facility"])])}}};export{Lt as default};
